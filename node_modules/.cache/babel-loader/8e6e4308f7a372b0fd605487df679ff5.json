{"ast":null,"code":"var _jsxFileName = \"/Users/xiaogengchi/Desktop/CS/LaiOffer_Project/stayBookingFrontend/src/components/HostHomePage.js\";\nimport React from \"react\";\nimport { Tabs, List, Card, message, Typography, Button, Tooltip, Modal, Image, Space, Carousel } from \"antd\";\nimport { InfoCircleOutlined, LeftCircleFilled, RightCircleFilled } from \"@ant-design/icons\";\nimport { deleteStay, getReservationsByStay, getStaysByHost } from \"../utils\";\nimport UploadStay from \"./UploadStay\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Text\n} = Typography;\nconst {\n  TabPane\n} = Tabs;\n\nclass ReservationList extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: false,\n      reservations: []\n    };\n\n    this.loadData = async () => {\n      this.setState({\n        loading: true\n      });\n\n      try {\n        const resp = await getReservationsByStay(this.props.stayId);\n        this.setState({\n          reservations: resp\n        });\n      } catch (error) {\n        message.error(error.message);\n      } finally {\n        this.setState({\n          loading: false\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  render() {\n    const {\n      loading,\n      reservations\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(List, {\n      loading: loading,\n      dataSource: reservations,\n      renderItem: item => /*#__PURE__*/_jsxDEV(List.Item, {\n        children: /*#__PURE__*/_jsxDEV(List.Item.Meta, {\n          title: /*#__PURE__*/_jsxDEV(Text, {\n            children: [\"Guest Name: \", item.guest.username]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 22\n          }, this),\n          description: /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Text, {\n              children: [\"Checkin Date: \", item.checkin_date]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Text, {\n              children: [\"Checkout Date: \", item.checkout_date]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nclass ViewReservationsButton extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      modalVisible: false\n    };\n\n    this.openModal = () => {\n      this.setState({\n        modalVisible: true\n      });\n    };\n\n    this.handleCancel = () => {\n      this.setState({\n        modalVisible: false\n      });\n    };\n  }\n\n  render() {\n    const {\n      stay\n    } = this.props;\n    const {\n      modalVisible\n    } = this.state;\n    const modalTitle = `Reservations of ${stay.name}`;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: this.openModal,\n        shape: \"round\",\n        children: \"View Reservations\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), modalVisible && /*#__PURE__*/_jsxDEV(Modal, {\n        title: modalTitle,\n        centered: true,\n        visible: modalVisible,\n        closable: false,\n        footer: null,\n        onCancel: this.handleCancel,\n        destroyOnClose: true,\n        children: /*#__PURE__*/_jsxDEV(ReservationList, {\n          stayId: stay.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport class StayDetailInfoButton extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      modalVisible: false\n    };\n\n    this.openModal = () => {\n      this.setState({\n        modalVisible: true\n      });\n    };\n\n    this.handleCancel = () => {\n      this.setState({\n        modalVisible: false\n      });\n    };\n  }\n\n  render() {\n    const {\n      stay\n    } = this.props;\n    const {\n      name,\n      description,\n      address,\n      guest_number\n    } = stay;\n    const {\n      modalVisible\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"View Stay Details\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: this.openModal,\n          style: {\n            border: \"none\"\n          },\n          size: \"large\",\n          icon: /*#__PURE__*/_jsxDEV(InfoCircleOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this), modalVisible && /*#__PURE__*/_jsxDEV(Modal, {\n        title: name,\n        centered: true,\n        visible: modalVisible,\n        closable: false,\n        footer: null,\n        onCancel: this.handleCancel,\n        children: /*#__PURE__*/_jsxDEV(Space, {\n          direction: \"vertical\",\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            strong: true,\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            type: \"secondary\",\n            children: description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            strong: true,\n            children: \"Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            type: \"secondary\",\n            children: address\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            strong: true,\n            children: \"Guest Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            type: \"secondary\",\n            children: guest_number\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nclass RemoveStayButton extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: false\n    };\n\n    this.handleRemoveStay = async () => {\n      const {\n        stay,\n        onRemoveSuccess\n      } = this.props;\n      this.setState({\n        loading: true\n      });\n\n      try {\n        await deleteStay(stay.id);\n      } catch (error) {\n        message.error(error.message);\n      } finally {\n        this.setState({\n          loading: false\n        });\n      }\n\n      onRemoveSuccess();\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Button, {\n      loading: this.state.loading,\n      onClick: this.handleRemoveStay,\n      danger: true,\n      shape: \"round\",\n      type: \"primary\",\n      children: \"Remove Stay\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nclass MyStays extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: false,\n      data: []\n    };\n\n    this.loadData = async () => {\n      this.setState({\n        loading: true\n      });\n\n      try {\n        const resp = await getStaysByHost();\n        this.setState({\n          data: resp\n        });\n      } catch (error) {\n        message.error(error.message);\n      } finally {\n        this.setState({\n          loading: false\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(List, {\n      loading: this.state.loading,\n      grid: {\n        gutter: 16,\n        xs: 1,\n        sm: 3,\n        md: 3,\n        lg: 3,\n        xl: 4,\n        xxl: 4\n      },\n      dataSource: this.state.data,\n      renderItem: item => /*#__PURE__*/_jsxDEV(List.Item, {\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          title: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              alignItems: \"center\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(Text, {\n              ellipsis: true,\n              style: {\n                maxWidth: 150\n              },\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(StayDetailInfoButton, {\n              stay: item\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 17\n          }, this),\n          actions: [/*#__PURE__*/_jsxDEV(ViewReservationsButton, {\n            stay: item\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 25\n          }, this)],\n          extra: /*#__PURE__*/_jsxDEV(RemoveStayButton, {\n            stay: item,\n            onRemoveSuccess: () => this.loadData()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 17\n          }, this),\n          children: /*#__PURE__*/_jsxDEV(Carousel, {\n            dots: false,\n            arrows: true,\n            prevArrow: /*#__PURE__*/_jsxDEV(LeftCircleFilled, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 30\n            }, this),\n            nextArrow: /*#__PURE__*/_jsxDEV(RightCircleFilled, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 30\n            }, this),\n            children: item.images.map((image, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Image, {\n                src: image.url,\n                width: \"100%\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 23\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 17\n          }, this)\n        }, item.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nclass HostHomePage extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(Tabs, {\n      defaultActiveKey: \"1\",\n      destroyInactiveTabPane: true,\n      children: [/*#__PURE__*/_jsxDEV(TabPane, {\n        tab: \"My Stays\",\n        children: /*#__PURE__*/_jsxDEV(MyStays, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this)\n      }, \"1\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TabPane, {\n        tab: \"Upload Stay\",\n        children: /*#__PURE__*/_jsxDEV(UploadStay, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this)\n      }, \"2\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default HostHomePage;","map":{"version":3,"sources":["/Users/xiaogengchi/Desktop/CS/LaiOffer_Project/stayBookingFrontend/src/components/HostHomePage.js"],"names":["React","Tabs","List","Card","message","Typography","Button","Tooltip","Modal","Image","Space","Carousel","InfoCircleOutlined","LeftCircleFilled","RightCircleFilled","deleteStay","getReservationsByStay","getStaysByHost","UploadStay","Text","TabPane","ReservationList","Component","state","loading","reservations","loadData","setState","resp","props","stayId","error","componentDidMount","render","item","guest","username","checkin_date","checkout_date","ViewReservationsButton","modalVisible","openModal","handleCancel","stay","modalTitle","name","id","StayDetailInfoButton","description","address","guest_number","border","RemoveStayButton","handleRemoveStay","onRemoveSuccess","MyStays","data","gutter","xs","sm","md","lg","xl","xxl","display","alignItems","maxWidth","images","map","image","index","url","HostHomePage"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n  Tabs,\n  List,\n  Card,\n  message,\n  Typography,\n  Button,\n  Tooltip,\n  Modal,\n  Image,\n  Space,\n  Carousel,\n} from \"antd\";\nimport {\n  InfoCircleOutlined,\n  LeftCircleFilled,\n  RightCircleFilled,\n} from \"@ant-design/icons\";\nimport { deleteStay, getReservationsByStay, getStaysByHost } from \"../utils\";\nimport UploadStay from \"./UploadStay\";\n\nconst { Text } = Typography;\nconst { TabPane } = Tabs;\n\nclass ReservationList extends React.Component {\n  state = {\n    loading: false,\n    reservations: [],\n  };\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  loadData = async () => {\n    this.setState({\n      loading: true,\n    });\n\n    try {\n      const resp = await getReservationsByStay(this.props.stayId);\n      this.setState({\n        reservations: resp,\n      });\n    } catch (error) {\n      message.error(error.message);\n    } finally {\n      this.setState({\n        loading: false,\n      });\n    }\n  };\n\n  render() {\n    const { loading, reservations } = this.state;\n\n    return (\n      <List\n        loading={loading}\n        dataSource={reservations}\n        renderItem={(item) => (\n          <List.Item>\n            <List.Item.Meta\n              title={<Text>Guest Name: {item.guest.username}</Text>}\n              description={\n                <>\n                  <Text>Checkin Date: {item.checkin_date}</Text>\n                  <br />\n                  <Text>Checkout Date: {item.checkout_date}</Text>\n                </>\n              }\n            />\n          </List.Item>\n        )}\n      />\n    );\n  }\n}\n\nclass ViewReservationsButton extends React.Component {\n  state = {\n    modalVisible: false,\n  };\n\n  openModal = () => {\n    this.setState({\n      modalVisible: true,\n    });\n  };\n\n  handleCancel = () => {\n    this.setState({\n      modalVisible: false,\n    });\n  };\n\n  render() {\n    const { stay } = this.props;\n    const { modalVisible } = this.state;\n\n    const modalTitle = `Reservations of ${stay.name}`;\n\n    return (\n      <>\n        <Button onClick={this.openModal} shape=\"round\">\n          View Reservations\n        </Button>\n        {modalVisible && (\n          <Modal\n            title={modalTitle}\n            centered={true}\n            visible={modalVisible}\n            closable={false}\n            footer={null}\n            onCancel={this.handleCancel}\n            destroyOnClose={true}\n          >\n            <ReservationList stayId={stay.id} />\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n\nexport class StayDetailInfoButton extends React.Component {\n  state = {\n    modalVisible: false,\n  };\n\n  openModal = () => {\n    this.setState({\n      modalVisible: true,\n    });\n  };\n\n  handleCancel = () => {\n    this.setState({\n      modalVisible: false,\n    });\n  };\n\n  render() {\n    const { stay } = this.props;\n    const { name, description, address, guest_number } = stay;\n    const { modalVisible } = this.state;\n    return (\n      <>\n        <Tooltip title=\"View Stay Details\">\n          <Button\n            onClick={this.openModal}\n            style={{ border: \"none\" }}\n            size=\"large\"\n            icon={<InfoCircleOutlined />}\n          />\n        </Tooltip>\n        {modalVisible && (\n          <Modal\n            title={name}\n            centered={true}\n            visible={modalVisible}\n            closable={false}\n            footer={null}\n            onCancel={this.handleCancel}\n          >\n            <Space direction=\"vertical\">\n              <Text strong={true}>Description</Text>\n              <Text type=\"secondary\">{description}</Text>\n              <Text strong={true}>Address</Text>\n              <Text type=\"secondary\">{address}</Text>\n              <Text strong={true}>Guest Number</Text>\n              <Text type=\"secondary\">{guest_number}</Text>\n            </Space>\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n\nclass RemoveStayButton extends React.Component {\n  state = {\n    loading: false,\n  };\n\n  handleRemoveStay = async () => {\n    const { stay, onRemoveSuccess } = this.props;\n    this.setState({\n      loading: true,\n    });\n\n    try {\n      await deleteStay(stay.id);\n    } catch (error) {\n      message.error(error.message);\n    } finally {\n      this.setState({\n        loading: false,\n      });\n    }\n\n    onRemoveSuccess();\n  };\n\n  render() {\n    return (\n      <Button\n        loading={this.state.loading}\n        onClick={this.handleRemoveStay}\n        danger={true}\n        shape=\"round\"\n        type=\"primary\"\n      >\n        Remove Stay\n      </Button>\n    );\n  }\n}\n\nclass MyStays extends React.Component {\n  state = {\n    loading: false,\n    data: [],\n  };\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  loadData = async () => {\n    this.setState({\n      loading: true,\n    });\n\n    try {\n      const resp = await getStaysByHost();\n      this.setState({\n        data: resp,\n      });\n    } catch (error) {\n      message.error(error.message);\n    } finally {\n      this.setState({\n        loading: false,\n      });\n    }\n  };\n\n  render() {\n    return (\n      <List\n        loading={this.state.loading}\n        grid={{\n          gutter: 16,\n          xs: 1,\n          sm: 3,\n          md: 3,\n          lg: 3,\n          xl: 4,\n          xxl: 4,\n        }}\n        dataSource={this.state.data}\n        renderItem={(item) => (\n          <List.Item>\n            <Card\n              key={item.id}\n              title={\n                <div style={{ display: \"flex\", alignItems: \"center\" }}>\n                  <Text ellipsis={true} style={{ maxWidth: 150 }}>\n                    {item.name}\n                  </Text>\n                  <StayDetailInfoButton stay={item} />\n                </div>\n              }\n              actions={[<ViewReservationsButton stay={item} />]}\n              extra={\n                <RemoveStayButton\n                  stay={item}\n                  onRemoveSuccess={() => this.loadData()}\n                />\n              }\n            >\n              {\n                <Carousel\n                  dots={false}\n                  arrows={true}\n                  prevArrow={<LeftCircleFilled />}\n                  nextArrow={<RightCircleFilled />}\n                >\n                  {item.images.map((image, index) => (\n                    <div key={index}>\n                      <Image src={image.url} width=\"100%\" />\n                    </div>\n                  ))}\n                </Carousel>\n              }\n            </Card>\n          </List.Item>\n        )}\n      />\n    );\n  }\n}\n\nclass HostHomePage extends React.Component {\n  render() {\n    return (\n      <Tabs defaultActiveKey=\"1\" destroyInactiveTabPane={true}>\n        <TabPane tab=\"My Stays\" key=\"1\">\n          <MyStays />\n        </TabPane>\n        <TabPane tab=\"Upload Stay\" key=\"2\">\n          <UploadStay />\n        </TabPane>\n      </Tabs>\n    );\n  }\n}\n\nexport default HostHomePage;\n"]},"metadata":{},"sourceType":"module"}